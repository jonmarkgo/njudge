<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head lang=en>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
        <meta name="Description" content="Diplomacy Judge variants HOWTO">
        <meta name="GENERATOR" content="mimine">
        <meta name="Author" content="Christophe COURTOIS">
        <meta name="copyright" content="Christophe Courtois 2003">
        <meta name="KeyWords" content="Diplomacy,njudge,variants">
        <meta name="MSSmartTagsPreventParsing" content="TRUE">
        <meta name="revisit-after" content="15 days">
        <meta name="robots" content="FOLLOW">
        <meta name="distribution" content="Global">
        <meta name="rating" content="Safe For Kids">
        <meta http-equiv="reply-to" content="christophe@courtois.cc">
        <meta name="language" content="English">
        <meta name="doc-rights" content="Copywritten Work">
        <title>Diplomacy Judge variants HOWTO</title>
</head>
<body>

<h1 align=center>Creating variants for the Diplomacy judge</h1>

<p align=center>v.0.1
<br><a href="mailto:christophe@courtois.cc">Christophe Courtois (christophe@courtois.cc)</a>

<table align=center width="50%">
<a href="#1">1. Introduction</a>
</table>

<hr>

<h1><a name="1">1.Introduction</a></h1>

<h2><a name="1.1">1.1 History</a></h2>

<p>- 0.1 : Mar 2003

<h2><a name="1.2">1.2 Last version</a></h2>

<p> This is a guide which aims to help people creating variants for the Diplomacy judge.

<br>The reference version is the HTML version.  The text should be
automatically generated against the HTML.
<br>Anyway, the last version of this file should always be in the last CVS
snapshot of the judge at <a href="http://www.njudge.org/">http://www.njudge.org/</a>.

<h2><a name="1.3">1.3 Why?</a></h2>

<p> Creating a variant is currently almost impossible for someone alone.
<a href="http://www.ellought.demon.co.uk/">David Norman</a> provides some useful help but many things
don't need to go through him now that everyone can have a judge at home.

<p> I'll try to sum up here most knowledge on variants creation, beginning by the basic
ones ('fleet_in_Marseille').  I won't cover variants with new rules not yet implemented in the judge.

<h1><a name="2">2. Data to provide</a></h1>

<p> You MUST provide this:
<ul type=square>
<li>- <b>Map file</b>: this lists the territories, the way they communicate with each other, the order
which must be used in summary reports.
<br>Example: <tt>data/map, data/map.loeb9</tt>
</li>
<li>- <b>Seed file</b> : this lists the units beginning positions.
<br>Example: <tt>data/seed.1</tt>
</li>
<li>- <b>Report file</b> : this file is sent at game start, giving the initial positions.
<br><br>Example: <tt>data/report.38</tt>
</li>
</ul>

<p> You MUST modify theses files in the source code of the judge:
<ul type=square>
<li>- <tt>variant.h</tt></li>
<li>- <tt>variant.c</tt></li>
</ul>

<p> You MAY provide these files, but the judge will work without them.  They may be necessary for the
players.
<ul>
<li>- <b>Info file</b>: It contains the differences between the standard game and the variant.
</li>
<li>- <b>Rules file</b>: Only if you create a whole new game.
<br>Example: <tt>data/rules.machiavelli</tt>
</li>
</ul>

<p> There are some additional files to modify to package a new variant into the official judge, see later.

<h2><a name="2.1">2.1. Map files</a></h2>

<p> A map file is in the <tt>data/</tt> subdirectory.  The name is <tt>map.&lt;<i>variant_name</i>&gt;.

<p> The format is fully described by a document from Sergio Lidsell that is part of the judge package:
<a href="njudgemapdatahowto.htm">njudgemapdatahowto.htm</a>.  Following are juste examples from the
standard map to sum it up.

<h3><a name="2.1.1">2.1.1 Declaration of lands and centers</a></h3>
<table cellpadding=3>
<tr><td><tt>Switzerland,</tt><br>(Neutral land)<td><tt>l  swi switz swiss</tt><br>(Possible names)
<tr><td><tt>Adriatic Sea,</tt><br>(Sea)<td><tt>w  adr adriatic
<tr><td><tt>Ankara,</tt><br>(Home center of T)<td><tt>T  ank ankar
<tr><td><tt>Belgium,</tt><br>(Neutral center with sea shore)<td><tt>xw  bel belgi
</table>

<h3><a name="2.1.2">2.1.2 Movements</a></h3>

<table cellpadding=3>
<tr><td><tt>swi-mv:</tt><br>(Switzerland, no possible move)<td><tt>swi</tt><br>&nbsp;
<tr><td><tt>adr-xc:</tt><br>(Between a coast and its neighbours)<td><tt>alb apu ven tri ion</tt><br>&nbsp;
<tr><td><tt>bud-mv:</tt><br>(Between a land and its neighbours)<td><tt>vie gal rum ser tri</tt><br>&nbsp;
<tr><td><tt>con-mv:<br>con-xc:</tt>
<br>(Special case for Constantinophe)<td><tt>bul ank smy<br>bul/sc bul/ec bla ank smy aeg</tt><br>&nbsp;
</table>

<h3><a name="2.1.3">2.1.3 ordering for summaries (optional)</a></h3>

<p><tt>Center order for summary report:
<br>&nbsp;&nbsp;ven rom nap tun edi lon lvp bre par mar por spa bel hol mun kie ber
<br>&nbsp;&nbsp;den swe nor stp war mos sev con ank smy bul rum gre ser bud vie tri
<br>#End of center ordering
</tt>

<h3><a name="2.1.4">2.1.4 Other optional data</a></h3>

<p> Hong Kong flag, railways, and so on, are described in <a href="njudgemapdatahowto.htm">njudgemapdatahowto.htm</a>.
 For a good example, see <tt>map.colonial</tt>.

<h2><a name="2.2">2.2 Seed file</a></h2>

<p> The seed file is in the <tt>data/</tt> subdirectory.  The name is <tt>seed.&lt;<i>variant_number</i>&gt;.
(The variant number is obtained when modifying the source; see below).

<h1><a name="3">3. Examples</a></h1>

<h1><a name="5">5. floc.net</a></h1>

<h1><a name="6">6. Mapmaker</a></h1>

<p>
DN :
There are a number of files you need - a map, a report, a seed and an info
file, plus you have to update the variant.h (and variant.c in the newer
versions of the judge).

It can be done without MapMaker. But by using MapMaker :

(1) It takes a fraction of the time
(2) You get Mapper, Mapit and a PS map too
(3) You get floc.net support

And also, you get my experience of getting a variant through draft versions
without confusing the various systems that run around the judges...

<h1><a name="7">7. Automatic tests</a></h1>

<p> None known.  David Norman may have some.

<h1><a name="8">8. Troubleshooting</a></h1>

<p>These are some problems and solutions:

<table border=1 cellpadding=3>
<tr><td> * <td> *
</table>

<h1><a name="9">9. Integration in the official judge source</a></h1>

<p> CVS, Makefile.am



<h1><a name="12">12.Misc</a></h1>

<h2><a name="12.1">12.1 The author</a></h2>

<p> The author is 28 years old, writes SQL all day long for big
corporations to eat and pay the mortgage, and is trying to learn Java, C and PHP
(The most difficult part is to find some time for it...)

<h2><a name="12.2">12.2 Thanks</a></h2>

<p> Many parts of this HowTo are cut-and-pasted from source code and mails of the judge-maint mailing list.

<h2><a name="12.3">12.3 Copyright and boring stuff</a></h2>

<p> Permission is granted to make and distribute copies of this text
provided the copyright notice and this permission notice are preserved on all copies.
<br> Permission is granted to copy and distribute modified versions of this
manual under the conditions for verbatim copying, provided that the
derived work is distributed under the terms of a permission notice
identical to this one. Translations fall under the category of
"modified versions".
<br> Warranty: None. Nothing. Nada. Rien. Que dalle. Nitchevo. Nichts. Do
everything at your own risk. Remember this is a sum-up of a non-native
English speaker on a subject he recently discovered.
<br> Redistribution is allowed and encouraged; however, it is strongly
recommended that the redistributor contact the author before the
redistribution, in the interest of keeping things up-to-date (you could
send me a copy of the thing you're making while you're at it).
<br> Translators are also advised to contact the author before translating
(no translation known for the moment).

<hr>
</div>
</body>
</html>


